{"version":3,"file":"generator.js","sources":["../../../src/types/generator.ts"],"sourcesContent":["/**\n * Generator (or modulator) types. These are defined in a specific order, following the spec. The\n * enum ID corresponds with the ID in the spec, so the unused and reserved fields should not be\n * removed.\n */\nexport enum GeneratorType {\n  /**\n   * The offset in sample data points beyond the `start` sample header.\n   */\n  StartAddrsOffset,\n\n  /**\n   * The offset in sample data points beyond the `end` sample header.\n   */\n  EndAddrsOffset,\n\n  /**\n   * The offset in sample data points beyond the `startLoop` sample header to the first sample data\n   * point to be repeated in the loop for the instrument.\n   */\n  StartLoopAddrsOffset,\n\n  /**\n   * The offset in sample data points beyond the `endLoop` sample header to the sample data point\n   * considered equivalent to the `startLoop` sample data point for the loop for this instrument.\n   */\n  EndLoopAddrsOffset,\n\n  /**\n   * The offset in 32768 sample data point increments beyond the `start` sample header and the\n   * first sample data point to be played in the instrument.\n   */\n  StartAddrsCoarseOffset,\n\n  /**\n   * The degree (in cents) to which a full scale excursion of the modulation LFO will influence the\n   * pitch.\n   */\n  ModLFOToPitch,\n\n  /**\n   * The degree (in cents) to which a full scale excursion of the vibrato LFO will influence the\n   * pitch.\n   */\n  VibLFOToPitch,\n\n  /**\n   * The degree (in cents) to which a full scale excursion of the modulation envelope will\n   * influence pitch.\n   */\n  ModEnvToPitch,\n\n  /**\n   * The cutoff and resonant frequency of the lowpass filter in absolute cent units.\n   */\n  InitialFilterFc,\n\n  /**\n   * The height above DC gain in centibels which the filter resonance exhibits at the cutoff\n   * latency.\n   */\n  InitialFilterQ,\n\n  /**\n   * The degree (in cents) to which a full scale excursion of the modulation LFO will influence the\n   * filter cutoff frequency.\n   */\n  ModLFOToFilterFc,\n\n  /**\n   * The degree (in cents) to which a full scale excursion of the modulation envelope will\n   * influence the filter cutoff frequency.\n   */\n  ModEnvToFilterFc,\n\n  /**\n   * The offset in 32768 sample data point increments beyond the `end` sample header and the last\n   * sample data point to be played in this instrument.\n   */\n  EndAddrsCoarseOffset,\n\n  /**\n   * The degree (in centibels) to which a full scale excursion of the modulation LFO will influence\n   * volume.\n   */\n  ModLFOToVolume,\n\n  /**\n   * Unused generator. If this generator is encountered, it should be ignored.\n   */\n  Unused1,\n\n  /**\n   * The degree (in 0.1% units) to which the audio output of the note is sent to the chorus effects\n   * processor.\n   */\n  ChorusEffectsSend,\n\n  /**\n   * The degree (in 0.1% units) to which the audio output of the note is sent to the reverb effects\n   * processor.\n   */\n  ReverbEffectsSend,\n\n  /**\n   * The degree (in 0.1% units) to which the dry audio output of the note is positioned to the left\n   * or right output.\n   */\n  Pan,\n\n  /**\n   * Unused generator. If this generator is encountered, it should be ignored.\n   */\n  Unused2,\n\n  /**\n   * Unused generator. If this generator is encountered, it should be ignored.\n   */\n  Unused3,\n\n  /**\n   * Unused generator. If this generator is encountered, it should be ignored.\n   */\n  Unused4,\n\n  /**\n   * The delay time (in absolute timecents) from key on until the modulation LFO begins its upward\n   * ramp from zero value. A value of zero indicates a one second delay.\n   */\n  DelayModLFO,\n\n  /**\n   * The frequency (in absolute cents) of the modulation LFO's triangular period. A value of 0\n   * indicates a frequency of 8.176 Hz.\n   */\n  FreqModLFO,\n\n  /**\n   * The delay time (in absolute timecents) from key on until the vibrato LFO begins its upwards\n   * ramp from zero value. A value of zero indicates a one second delay.\n   */\n  DelayVibLFO,\n\n  /**\n   * The frequency (in absolute cents) of the vibrato LFO's triangular period. A value of zero\n   * indicates a frequency of 8.176 Hz.\n   */\n  FreqVibLFO,\n\n  /**\n   * The delay time (in absolute timecents) between key on and the start of the attack phase on the\n   * modulation envelope. A value of zero indicates a one second delay.\n   */\n  DelayModEnv,\n\n  /**\n   * The time (in absolute timecents) from the end of the modulation envelope delay time until the\n   * point at which the modulation envelope value reaches its peak.\n   */\n  AttackModEnv,\n\n  /**\n   * The time (in absolute timecents) from the end of the attack phase to the entry into decay\n   * phase, during which the envelope value is held at its peak. A value of zero indicates a one\n   * second hold time.\n   */\n  HoldModEnv,\n\n  /**\n   * The time (in absolute timecents) for a 100% change in the modulation envelope value during\n   * decay phase.\n   */\n  DecayModEnv,\n\n  /**\n   * The decrease in level (expressed in 0.1% units) to which the modulation envelope ramps during\n   * the decay phase.\n   */\n  SustainModEnv,\n\n  /**\n   * The time (in absolute timecents) for a 100% change in the modulation envelope value during\n   * release phase.\n   */\n  ReleaseModEnv,\n\n  /**\n   * The degree (in timecents per key number units) to which the hold time of the modulation\n   * envelope is decreased by increasing the MIDI key number.\n   */\n  KeyNumToModEnvHold,\n\n  /**\n   * The degree (in timecents per key number units) to which the hold time of the modulation\n   * envelope is decreased by increasing the MIDI key number.\n   */\n  KeyNumToModEnvDecay,\n\n  /**\n   * The delay time (in absolute timecents) between key on and the start of the attack phase of the\n   * volume envelope. A value of zero indicates a one second delay.\n   */\n  DelayVolEnv,\n\n  /**\n   * The delay time (in absolute timecents) from the end of the volume envelope delay time until\n   * the point at which the volume envelope value reaches its peak.\n   */\n  AttackVolEnv,\n\n  /**\n   * The time (in absolute timecents) from the end of the attack phase to the entry into decay\n   * phase during which the volume envelope value is held at its peak. A value of zero indicates a\n   * one second hold time.\n   */\n  HoldVolEnv,\n\n  /**\n   * The time (in absolute timecents) for a 100% change in the volume envelope value during decay\n   * phase.\n   */\n  DecayVolEnv,\n\n  /**\n   * The decrease in level (expressed in centibels) to which the volume envelope value ramps during\n   * the decay phase.\n   */\n  SustainVolEnv,\n\n  /**\n   * The time (in absolute centibels) for a 100% change in the volume envelope during release\n   * phase. A value of zero indicates a one second decay time.\n   */\n  ReleaseVolEnv,\n\n  /**\n   * The degree (in timecents per key number units) to which the hold time of the volume envelope\n   * is increased by increasing the MIDI key number.\n   */\n  KeyNumToVolEnvHold,\n\n  /**\n   * The degree (in timecents per key number units) to which the hold time of the volume envelope\n   * is decreased by increasing the MIDI key number.\n   */\n  KeyNumToVolEnvDecay,\n\n  /**\n   * Index of an instrument in the `INST` sub-chunk. This generator and `SampleId` are the only\n   * Index generators.\n   */\n  Instrument,\n\n  /**\n   * Unused generator, reserved for future implementation. If this generator is encountered, it\n   * should be ignored.\n   */\n  Reserved1,\n\n  /**\n   * The key range that the preset or instrument zone applies to. This generator and `VelRange` are\n   * the only Range generators.\n   */\n  KeyRange,\n\n  /**\n   * The velocity range that the preset or instrument zone applies to. This generator and\n   * `KeyRange` are the only Range generators.\n   */\n  VelRange,\n\n  /**\n   * The offset in 32768 sample data point increments beyond the `startLoop` sample header and the\n   * first sample data point to be repeated in this instrument's loop.\n   */\n  StartLoopAddrsCoarseOffset,\n\n  /**\n   * Forces the MIDI key number to be interpreted as the value given. This can only appear at\n   * instrument level and must be between 0 and 127.\n   */\n  KeyNum,\n\n  /**\n   * Forces the MIDI velocity to be interpreted as the value given. This can only appear at\n   * instrument level and must be between 0 and 127.\n   */\n  Velocity,\n\n  /**\n   * The attenuation (in centibels) by which a note is attenuated below full scale.\n   */\n  InitialAttenuation,\n\n  /**\n   * Unused generator, reserved for future implementation. If this generator is encountered, it\n   * should be ignored.\n   */\n  Reserved2,\n\n  /**\n   * The offset in 32768 sample data point increments beyond the `endLoop` sample header to the\n   * sample data point considered equivalent to the `startLoop`.\n   */\n  EndLoopAddrsCoarseOffset,\n\n  /**\n   * The pitch offset (in semitones) which should be applied to the note. It is additive with\n   * `FineTune`.\n   */\n  CoarseTune,\n\n  /**\n   * The pitch offset (in cents) which should be applied to the note. It is additive with\n   * `CoarseTune`.\n   */\n  FineTune,\n\n  /**\n   * Index of a sample in the `SHDR` sub-chunk. This generator and `Instrument` are the only Index\n   * generators.\n   */\n  SampleId,\n\n  /**\n   * The value which gives a variety of boolean flags describing the sample for the current\n   * instrument zone. A zero indicates a sound reproduced with no loop, one indicates a sound which\n   * loops continuously and three indicates a sound which loops for the duration of key depression,\n   * then proceeds to play the remainder of the sample.\n   */\n  SampleModes,\n\n  /**\n   * Unused generator, reserved for future implementation. If this generator is encountered, it\n   * should be ignored.\n   */\n  Reserved3,\n\n  /**\n   * The degree to which the MIDI key number influences pitch.\n   */\n  ScaleTuning,\n\n  /**\n   * The capability for key depression in a given instrument to terminate the playback of other\n   * instruments.\n   */\n  ExclusiveClass,\n\n  /**\n   * The MIDI key number at which the sample is to be played back at its original sample rate. If\n   * not present, or if present with a value of -1, the sample header parameter original key is\n   * used in its place.\n   */\n  OverridingRootKey,\n\n  /**\n   * Unused generator. If this generator is encountered, it should be ignored.\n   */\n  Unused5,\n\n  /**\n   * Unused generator. If this generator is encountered, it should be ignored.\n   */\n  EndOper\n}\n\n/**\n * All unused generators.\n */\nexport type UnusedGenerator =\n  | GeneratorType.Unused1\n  | GeneratorType.Unused2\n  | GeneratorType.Unused3\n  | GeneratorType.Unused4\n  | GeneratorType.Unused5\n  | GeneratorType.Reserved1\n  | GeneratorType.Reserved2\n  | GeneratorType.Reserved3\n  | GeneratorType.EndOper\n\n/**\n * All range generators.\n */\nexport type RangeGenerator = GeneratorType.KeyRange | GeneratorType.VelRange\n\n/**\n * All index generators.\n */\nexport type IndexGenerator = GeneratorType.Instrument | GeneratorType.SampleId\n\n/**\n * All value generators.\n */\nexport type ValueGenerator = Exclude<\n  GeneratorType,\n  UnusedGenerator | RangeGenerator | IndexGenerator\n>\n\n/**\n * The default value for all generator types (where applicable).\n */\nexport const DEFAULT_GENERATOR_VALUES: { [key in ValueGenerator]: number } = {\n  [GeneratorType.StartAddrsOffset]: 0,\n  [GeneratorType.EndAddrsOffset]: 0,\n  [GeneratorType.StartLoopAddrsOffset]: 0,\n  [GeneratorType.EndLoopAddrsOffset]: 0,\n  [GeneratorType.StartAddrsCoarseOffset]: 0,\n  [GeneratorType.ModLFOToPitch]: 0,\n  [GeneratorType.VibLFOToPitch]: 0,\n  [GeneratorType.ModEnvToPitch]: 0,\n  [GeneratorType.InitialFilterFc]: 13500,\n  [GeneratorType.InitialFilterQ]: 0,\n  [GeneratorType.ModLFOToFilterFc]: 0,\n  [GeneratorType.ModEnvToFilterFc]: 0,\n  [GeneratorType.EndAddrsCoarseOffset]: 0,\n  [GeneratorType.ModLFOToVolume]: 0,\n  [GeneratorType.ChorusEffectsSend]: 0,\n  [GeneratorType.ReverbEffectsSend]: 0,\n  [GeneratorType.Pan]: 0,\n  [GeneratorType.DelayModLFO]: -12000,\n  [GeneratorType.FreqModLFO]: 0,\n  [GeneratorType.DelayVibLFO]: -12000,\n  [GeneratorType.FreqVibLFO]: 0,\n  [GeneratorType.DelayModEnv]: -12000,\n  [GeneratorType.AttackModEnv]: -12000,\n  [GeneratorType.HoldModEnv]: -12000,\n  [GeneratorType.DecayModEnv]: -12000,\n  [GeneratorType.SustainModEnv]: 0,\n  [GeneratorType.ReleaseModEnv]: -12000,\n  [GeneratorType.KeyNumToModEnvHold]: 0,\n  [GeneratorType.KeyNumToModEnvDecay]: 0,\n  [GeneratorType.DelayVolEnv]: -12000,\n  [GeneratorType.AttackVolEnv]: -12000,\n  [GeneratorType.HoldVolEnv]: -12000,\n  [GeneratorType.DecayVolEnv]: -12000,\n  [GeneratorType.SustainVolEnv]: 0,\n  [GeneratorType.ReleaseVolEnv]: -12000,\n  [GeneratorType.KeyNumToVolEnvHold]: 0,\n  [GeneratorType.KeyNumToVolEnvDecay]: 0,\n  [GeneratorType.StartLoopAddrsCoarseOffset]: 0,\n  [GeneratorType.KeyNum]: -1,\n  [GeneratorType.Velocity]: -1,\n  [GeneratorType.InitialAttenuation]: 0,\n  [GeneratorType.EndLoopAddrsCoarseOffset]: 0,\n  [GeneratorType.CoarseTune]: 0,\n  [GeneratorType.FineTune]: 0,\n  [GeneratorType.SampleModes]: 0,\n  [GeneratorType.ScaleTuning]: 100,\n  [GeneratorType.ExclusiveClass]: 0,\n  [GeneratorType.OverridingRootKey]: -1\n}\n\n/**\n * Describes a range of MIDI key numbers (for the `keyRange` generator) or MIDI velocities (for the\n * `velRange` generator) with a minimum (lo) and maximum (hi) value.\n */\nexport interface Range {\n  /**\n   * Low value for the range.\n   */\n  lo: number\n\n  /**\n   * High value for the range.\n   */\n  hi: number\n}\n\nexport interface Generator {\n  /**\n   * The ID of the generator.\n   */\n  id: GeneratorType\n\n  /**\n   * Generator value. If the range is not specified, this should be set.\n   */\n  value?: number\n\n  /**\n   * The range of the generator. If the value is not specified, this should be set.\n   */\n  range?: Range\n}\n"],"names":["GeneratorType","GeneratorType2"],"mappings":"AAKY,IAAAA,GAAAA,IAIVA,EAAAC,EAAA,iBAAA,GAAA,mBAKAD,EAAAC,EAAA,eAAA,GAAA,iBAMAD,EAAAC,EAAA,qBAAA,GAAA,uBAMAD,EAAAC,EAAA,mBAAA,GAAA,qBAMAD,EAAAC,EAAA,uBAAA,GAAA,yBAMAD,EAAAC,EAAA,cAAA,GAAA,gBAMAD,EAAAC,EAAA,cAAA,GAAA,gBAMAD,EAAAC,EAAA,cAAA,GAAA,gBAKAD,EAAAC,EAAA,gBAAA,GAAA,kBAMAD,EAAAC,EAAA,eAAA,GAAA,iBAMAD,EAAAC,EAAA,iBAAA,IAAA,mBAMAD,EAAAC,EAAA,iBAAA,IAAA,mBAMAD,EAAAC,EAAA,qBAAA,IAAA,uBAMAD,EAAAC,EAAA,eAAA,IAAA,iBAKAD,EAAAC,EAAA,QAAA,IAAA,UAMAD,EAAAC,EAAA,kBAAA,IAAA,oBAMAD,EAAAC,EAAA,kBAAA,IAAA,oBAMAD,EAAAC,EAAA,IAAA,IAAA,MAKAD,EAAAC,EAAA,QAAA,IAAA,UAKAD,EAAAC,EAAA,QAAA,IAAA,UAKAD,EAAAC,EAAA,QAAA,IAAA,UAMAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,WAAA,IAAA,aAMAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,WAAA,IAAA,aAMAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,aAAA,IAAA,eAOAD,EAAAC,EAAA,WAAA,IAAA,aAMAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,cAAA,IAAA,gBAMAD,EAAAC,EAAA,cAAA,IAAA,gBAMAD,EAAAC,EAAA,mBAAA,IAAA,qBAMAD,EAAAC,EAAA,oBAAA,IAAA,sBAMAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,aAAA,IAAA,eAOAD,EAAAC,EAAA,WAAA,IAAA,aAMAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,cAAA,IAAA,gBAMAD,EAAAC,EAAA,cAAA,IAAA,gBAMAD,EAAAC,EAAA,mBAAA,IAAA,qBAMAD,EAAAC,EAAA,oBAAA,IAAA,sBAMAD,EAAAC,EAAA,WAAA,IAAA,aAMAD,EAAAC,EAAA,UAAA,IAAA,YAMAD,EAAAC,EAAA,SAAA,IAAA,WAMAD,EAAAC,EAAA,SAAA,IAAA,WAMAD,EAAAC,EAAA,2BAAA,IAAA,6BAMAD,EAAAC,EAAA,OAAA,IAAA,SAMAD,EAAAC,EAAA,SAAA,IAAA,WAKAD,EAAAC,EAAA,mBAAA,IAAA,qBAMAD,EAAAC,EAAA,UAAA,IAAA,YAMAD,EAAAC,EAAA,yBAAA,IAAA,2BAMAD,EAAAC,EAAA,WAAA,IAAA,aAMAD,EAAAC,EAAA,SAAA,IAAA,WAMAD,EAAAC,EAAA,SAAA,IAAA,WAQAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,UAAA,IAAA,YAKAD,EAAAC,EAAA,YAAA,IAAA,cAMAD,EAAAC,EAAA,eAAA,IAAA,iBAOAD,EAAAC,EAAA,kBAAA,IAAA,oBAKAD,EAAAC,EAAA,QAAA,IAAA,UAKAD,EAAAC,EAAA,QAAA,IAAA,UAvWUD,IAAAA,GAAA,CAAA"}