const __vite__fileDeps=["assets/chunks/index.DPV103rC.js","assets/chunks/index.BA4pNxjo.js","assets/chunks/browser.qMmMVJwc.js","assets/chunks/commonjsHelpers.CqkleIqs.js","assets/chunks/index.DSVxbHrr.js","assets/chunks/index.BMUYmd12.js","assets/chunks/index.d_wY2Pyy.js","assets/chunks/index.D97yKr-h.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{X as s}from"./framework.CmhZ5-CP.js";function l(e){if(e){if(e=new Uint8Array(e.buffer||e),w(e))return"wav";if(h(e))return"mp3";if(_(e))return"flac";if(m(e))return"m4a";if(p(e))return"opus";if(g(e))return"oga";if(y(e))return"qoa"}}function h(e){if(!(!e||e.length<3))return e[0]===73&&e[1]===68&&e[2]===51||e[0]===255&&(e[1]&224)===224||e[0]===84&&e[1]===65&&e[2]===71}function w(e){if(!(!e||e.length<12))return e[0]===82&&e[1]===73&&e[2]===70&&e[3]===70&&e[8]===87&&e[9]===65&&e[10]===86&&e[11]===69}function g(e){if(!(!e||e.length<4))return e[0]===79&&e[1]===103&&e[2]===103&&e[3]===83}function _(e){if(!(!e||e.length<4))return e[0]===102&&e[1]===76&&e[2]===97&&e[3]===67}function m(e){if(!(!e||e.length<8))return e[4]===102&&e[5]===116&&e[6]===121&&e[7]===112||e[0]===77&&e[1]===52&&e[2]===65&&e[3]===32}function p(e){if(!(!e||e.length<36))return e[0]===79&&e[1]===103&&e[2]===103&&e[3]===83&&e[28]===79&&e[29]===112&&e[30]===117&&e[31]===115&&e[32]===72&&e[33]===101&&e[34]===97&&e[35]===100}function y(e){if(e)return e[0]===113&&e[1]===111&&e[2]===97&&e[3]===102}let E=class{constructor(t){if(!t)throw TypeError("options argument is required");if(!t.sampleRate)throw TypeError("options.sampleRate is required");if(t.sampleRate<3e3||t.sampleRate>768e3)throw TypeError("options.sampleRate must be within 3000..768000");if(!t.length)throw TypeError("options.length must be more than 0");this.sampleRate=t.sampleRate,this.numberOfChannels=t.numberOfChannels||1,this.length=t.length|0,this.duration=this.length/this.sampleRate,this._data=new Float32Array(this.length*this.numberOfChannels),this._channelData=[];for(let r=0;r<this.numberOfChannels;r++)this._channelData.push(this._data.subarray(r*this.length,(r+1)*this.length))}getChannelData(t){if(t>=this.numberOfChannels||t<0||t==null)throw Error("Cannot getChannelData: channel number ("+t+") exceeds number of channels ("+this.numberOfChannels+")");return this._channelData[t]}copyFromChannel(t,r,a){a==null&&(a=0);for(var c=this._channelData[r],i=a,o=0;i<this.length&&o<t.length;i++,o++)t[o]=c[i]}copyToChannel(t,r,a){var c=this._channelData[r];a||(a=0);for(var i=a,o=0;i<this.length&&o<t.length;i++,o++)c[i]=t[o]}};const u=globalThis.AudioBuffer||E;async function v(e){if(!e&&!(e.length||e.buffer))throw Error("Bad decode target");e=new Uint8Array(e.buffer||e);let t=l(e);if(!t)throw Error("Cannot detect audio format");if(!n[t])throw Error("Missing decoder for "+t+" format");return n[t](e)}const n={async oga(e){let{decoder:t}=n.oga;if(t)await t.reset();else{let{OggVorbisDecoder:r}=await s(async()=>{const{OggVorbisDecoder:a}=await import("./index.DPV103rC.js");return{OggVorbisDecoder:a}},__vite__mapDeps([0,1,2,3]));await(n.oga.decoder=t=new r).ready}return e&&d(await t.decodeFile(e))},async mp3(e){let{decoder:t}=n.mp3;if(t)await t.reset();else{const{MPEGDecoder:r}=await s(async()=>{const{MPEGDecoder:a}=await import("./index.DSVxbHrr.js");return{MPEGDecoder:a}},__vite__mapDeps([4,2,3]));await(n.mp3.decoder=t=new r).ready}return e&&d(await t.decode(e))},async flac(e){let{decoder:t}=n.flac;if(t)await t.reset();else{const{FLACDecoder:r}=await s(async()=>{const{FLACDecoder:a}=await import("./index.BMUYmd12.js");return{FLACDecoder:a}},__vite__mapDeps([5,1,2,3]));await(n.flac.decoder=t=new r).ready}return e&&d(await t.decode(e))},async opus(e){let{decoder:t}=n.opus;if(t)await t.reset();else{const{OggOpusDecoder:r}=await s(async()=>{const{OggOpusDecoder:a}=await import("./index.d_wY2Pyy.js");return{OggOpusDecoder:a}},__vite__mapDeps([6,1,2,3]));await(n.opus.decoder=t=new r).ready}return e&&d(await t.decodeFile(e))},async wav(e){let{decode:t}=n.wav;if(!t){let r=await s(()=>import("./index.D97yKr-h.js").then(a=>a.i),__vite__mapDeps([7,3]));t=n.wav.decode=r.default.decode}return e&&d(await t(e))},async qoa(e){let{decode:t}=n.qoa;return t||(n.qoa.decode=t=(await s(async()=>{const{decode:r}=await import("./index.v9pMB6AK.js");return{decode:r}},[])).decode),e&&d(await t(e))}};function d({channelData:e,sampleRate:t}){let r=new u({sampleRate:t,length:e[0].length,numberOfChannels:e.length});for(let a=0;a<e.length;a++)r.getChannelData(a).set(e[a]);return r}export{n as decoders,v as default};
